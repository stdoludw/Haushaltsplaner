Einrichten von mysql
	      sudo apt-get install mysql-server 				-> install des Servers
	      sudo apt-get install php5						-> wird evt später gebraucht
	      vi /etc/mysql/my.cnf 						-> bind adresse auskommentiern
	      mysqladmin -u root -p password "" 				-> password evt ändern
	      mysql -u root -p 							-> anmelden via localhost
	      create user 'bro'@'%' IDENTIFIED BY ""; 				-> neuen user anlegen
	      GRANT ALL PRIVILEGES ON HausHaltsPlaner_Database . * TO 'bro'@'%';-> Berechtigung setzen
	      GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY ""; 	-> remoute für root
	      FLUSH PRIVILEGES;							-> festschreiben
	      sudo service mysql restart 					-> neustarten


create master database	
		//erstellen der master Database
		create database master;
		use master;
		
		//All view
		create view ViewAll as select 
		k.betrag, k.name as 'Kontoinhaber', k.bankleitzahl, k.kontonummer,k.minimum, k.K_ID,
		p.name as 'Produktname',p.gewicht, p.preis, p.P_ID,
		m.name as 'Marktname', m.postleitzahl,m.adresse, m.entfernung, m.M_ID,
		ein.anzahl,ein.datum
		from Einkauf ein, Produkt p, Konto k, Markt m where ein.m_ID = m.M_ID AND ein.p_ID = p.P_ID AND ein.k_ID = k.K_ID;
		
		//Preis view
		create view SortPreis as
		select p.name as 'Produktname', p.Preis, p.gewicht from Produkt p order by p.Preis;
		
		//Ausgaben view
		create view SortAusgaben as
		select p.name as 'Produktname', p.preis , ein.anzahl ,ROUND((p.preis * ein.anzahl),2) as 'gesamtpreis' from Produkt p, Einkauf ein where p.P_ID = ein.p_ID;
		
		//Datum view
		create view SortDatum as
		select p.name as 'Produktname', p.preis , p.gewicht , ein.datum  from Produkt p, Einkauf ein where p.P_ID = ein.p_ID Order by ein.Datum;
		
		//entfernung view
		create view SortEntfernung as
		select m.name as 'Martname', m.entfernung , m.postleitzahl, m.adresse  from Markt m;
		
		//Konto table
		create table Konto(betrag float, name VARCHAR(255), bankleitzahl VARCHAR(8), kontonummer VARCHAR(9), minimum INT, K_ID INT NOT NULL AUTO_INCREMENT,PRIMARY KEY(K_ID));
		
		//Produkt table
		create table Produkt(preis float, name VARCHAR(255), gewicht INT, P_ID INT NOT NULL AUTO_INCREMENT, PRIMARY KEY(P_ID));
		
		//Markt table
		create table Markt(name VARCHAR(255), postleitzahl VARCHAR(5), adresse VARCHAR(255), entfernung INT, M_ID INT NOT NULL AUTO_INCREMENT,PRIMARY KEY(M_ID));
		
		//Einkauf table
		create table Einkauf(anzahl INT, datum DATE, m_ID INT, FOREIGN KEY(m_ID) REFERENCES Markt(M_ID) ON DELETE CASCADE,
		k_ID INT, FOREIGN KEY(k_ID) REFERENCES Konto(K_ID) ON DELETE CASCADE,
		p_ID INT,FOREIGN KEY(p_ID) REFERENCES Produkt(P_ID) ON DELETE CASCADE,
 		PRIMARY KEY(m_ID,p_ID,k_ID));
 		
 		
create parent database
		import der Daten
		create database HausHaltsPlaner_Database;
		use HausHaltsPlaner_Database;
		create table Einkauf like master.Einkauf;
		create table Konto like master.Konto;
		create table Markt like master.Markt;
		create table Produkt like master.Produkt;
		create view ViewAll as select * from master.ViewAll;
		create view SortAusgaben as select * from master.SortAusgaben;
		create view SortDatum as select * from master.SortDatum;
		create view SortEntfernung as select * from master.SortEntfernung;
		create view SortPreis as select * from master.SortPreis;
		
Wichtigste Brechtigungen anzeigen
		select  Select_priv,  Insert_priv,  Update_priv,         
		Delete_priv, Create_priv, Drop_priv,              
 		Shutdown_priv, Grant_priv,        
 		Alter_priv,  Show_db_priv,           
 		Lock_tables_priv,  Execute_priv,           
		Create_view_priv, Show_view_priv         
		from user;  
		
User anlegen nur durch root
		create user 'USERNAME'@'%' identified by 'PASSWORT';	
	
STANDARD USER hat keine Berechtigung für
		-> User anlegen
		-> Kein drop auf Master
		-> Kein update auf Master
		-> Kein drop auf eigene Databases
 		-> Kein Privileg weitergeben
 
STANDARD USER darf
 		-> Neue Databases erstellen
 		-> Insert/update auf eigene Databases
 		-> Login von any client
 		-> Commit
 		-> Abfragen der Databases
 		-> Zugriff nur auf eigene Databases
 
Berechtigung für User setzen -> nur root
		grant select, insert, create, update, CREATE VIEW on DBNAME.* to 'USERNAME'@'%';	-> realisierung der DML
		grant select on master.* to 'USERNAME'@'%';						-> Nur select auf master tabelle
		grant CREATE on *.* to 'USERNAME'@'%';							-> User kann neue Datenbank erstellen

 Neue Database erstellen, kann user erledigen
		create database NEWDATABASE;
		use NEWDATABASE;
		create table Einkauf like master.Einkauf;
		create table Konto like master.Konto;
		create table Markt like master.Markt;
		create table Produkt like master.Produkt;
		create view ViewAll as select * from master.ViewAll;
		create view SortAusgaben as select * from master.SortAusgaben;
		create view SortDatum as select * from master.SortDatum;
		create view SortEntfernung as select * from master.SortEntfernung;
		create view SortPreis as select * from master.SortPreis;
 
 
 
 Hilfreich
 show Databases;
 show tables;
 show fields from ..;
 commit;
 		